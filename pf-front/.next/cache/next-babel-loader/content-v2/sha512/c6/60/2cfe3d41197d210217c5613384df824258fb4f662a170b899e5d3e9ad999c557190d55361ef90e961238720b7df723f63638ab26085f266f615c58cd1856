{"ast":null,"code":"var _jsxFileName = \"D:\\\\pf-ecom\\\\pf-front\\\\pages\\\\page\\\\account\\\\login1.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect } from 'react';\nimport CommonLayout from '../../../components/shop/common-layout';\nimport { Container, Row, Form, Label, Input, Col } from 'reactstrap';\nimport { useRouter } from 'next/router'; //import { Redirect } from \"react-router-dom\";\n\nimport { Router, Route, Redirect } from \"react-router-dom\"; // function Redirect({to}) {\n//     const router = useRouter();\n//     //const history = useHistory();\n//     //console.log(to);\n//     useEffect(()=>{ \n//         router.push(\n//             {to}\n//         )\n//     }, [{to}]);\n//     return null;\n// }\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", {\n      user: [],\n      loading: true\n    });\n\n    this.state = {\n      loading: false,\n      user: []\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.userLogin = this.userLogin.bind(this);\n  }\n\n  async userLogin(data) {\n    const {\n      username,\n      password\n    } = this.state;\n    const {\n      history\n    } = this.props;\n    const loginapi = 'http://localhost:8000/api/login';\n    const response = await fetch(loginapi, {\n      method: 'POST',\n      body: data\n    });\n    const userdetail = await response.json();\n\n    if (!this.state.user['user_admin']) {\n      //console.log(this.props.user);\n      localStorage.setItem(\"user\", \"admin\");\n      localStorage.setItem(\"token\", this.state.user['access_token']);\n    } //console.log(this.state.user);\n\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    let loginfrm = document.getElementById('userlogin');\n    const data = new FormData(loginfrm);\n    this.userLogin(data);\n  }\n\n  render() {\n    console.log(this.state.user);\n    return __jsx(CommonLayout, {\n      parent: \"home\",\n      title: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, __jsx(\"section\", {\n      className: \"login-page section-b-space\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, __jsx(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, __jsx(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, __jsx(Col, {\n      lg: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, __jsx(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }\n    }, \"Login\"), __jsx(\"div\", {\n      className: \"theme-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 29\n      }\n    }, __jsx(Form, {\n      className: \"theme-form\",\n      id: \"userlogin\",\n      name: \"userlogin\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 33\n      }\n    }, __jsx(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 37\n      }\n    }, __jsx(Label, {\n      for: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 41\n      }\n    }, \"Email\"), __jsx(Input, {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"email\",\n      name: \"email\",\n      placeholder: \"Email\",\n      required: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 41\n      }\n    })), __jsx(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 37\n      }\n    }, __jsx(Label, {\n      for: \"review\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 41\n      }\n    }, \"Password\"), __jsx(Input, {\n      type: \"password\",\n      className: \"form-control\",\n      name: \"password\",\n      id: \"password\",\n      placeholder: \"Enter your password\",\n      required: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 41\n      }\n    })), __jsx(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-solid\",\n      name: \"Login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 43\n      }\n    })))), __jsx(Col, {\n      lg: \"6\",\n      className: \"right-login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }\n    }, __jsx(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 29\n      }\n    }, \"New Customer\"), __jsx(\"div\", {\n      className: \"theme-card authentication-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 29\n      }\n    }, __jsx(\"h6\", {\n      className: \"title-font\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 33\n      }\n    }, \"Create A Account\"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 33\n      }\n    }, \"Sign up for a free account at our store. Registration is quick and easy. It allows you to be able to order from our shop. To start shopping click register.\"), __jsx(\"a\", {\n      href: \"/page/register\",\n      className: \"btn btn-solid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 95\n      }\n    }, \"Create an Account\")))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["D:/pf-ecom/pf-front/pages/page/account/login1.js"],"names":["React","useEffect","CommonLayout","Container","Row","Form","Label","Input","Col","useRouter","Router","Route","Redirect","Login","Component","constructor","props","user","loading","state","handleSubmit","bind","userLogin","data","username","password","history","loginapi","response","fetch","method","body","userdetail","json","localStorage","setItem","e","preventDefault","loginfrm","document","getElementById","FormData","render","console","log"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\r\nimport CommonLayout from '../../../components/shop/common-layout';\r\nimport { Container, Row, Form, Label, Input ,Col} from 'reactstrap';\r\nimport { useRouter } from 'next/router';\r\n//import { Redirect } from \"react-router-dom\";\r\nimport { Router, Route, Redirect } from \"react-router-dom\";\r\n\r\n\r\n\r\n// function Redirect({to}) {\r\n//     const router = useRouter();\r\n//     //const history = useHistory();\r\n//     //console.log(to);\r\n//     useEffect(()=>{ \r\n//         router.push(\r\n//             {to}\r\n//         )\r\n//     }, [{to}]);\r\n    \r\n//     return null;\r\n// }\r\nclass Login extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {loading: false, user: []  };\r\n               \r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.userLogin = this.userLogin.bind(this);\r\n       \r\n        \r\n      }\r\n      state = {\r\n        user: [],\r\n        loading: true\r\n    }\r\n      \r\n\r\n      async userLogin (data) {\r\n        const { username, password } = this.state;\r\n        const { history } = this.props;\r\n        const loginapi = 'http://localhost:8000/api/login';\r\n        const response = await fetch(loginapi, {\r\n            method:'POST',\r\n            body: data,\r\n        });\r\n        const userdetail = await response.json();\r\n\r\n        \r\n       \r\n        if(!this.state.user['user_admin']){\r\n            //console.log(this.props.user);\r\n             localStorage.setItem(\"user\", \"admin\");\r\n             localStorage.setItem(\"token\", this.state.user['access_token'] );\r\n          \r\n        }\r\n        //console.log(this.state.user);\r\n        \r\n      }\r\n\r\n\r\n\r\n      handleSubmit(e) {\r\n        e.preventDefault();\r\n       \r\n        let loginfrm = document.getElementById('userlogin');\r\n        const data = new FormData(loginfrm);\r\n        this.userLogin(data);\r\n\r\n    }\r\n    \r\n\r\n      render(){\r\n        \r\n        console.log(this.state.user)\r\n          return(\r\n              \r\n            <CommonLayout parent=\"home\" title=\"login\">\r\n\r\n            <section className=\"login-page section-b-space\">\r\n                <Container>\r\n                    <Row>\r\n                        <Col lg=\"6\">\r\n                            <h3>Login</h3>\r\n                            <div className=\"theme-card\">\r\n                                <Form className=\"theme-form\" id='userlogin' name='userlogin' onSubmit={this.handleSubmit}>\r\n                                    <div className=\"form-group\">\r\n                                        <Label for=\"email\">Email</Label>\r\n                                        <Input type=\"text\" className=\"form-control\" id=\"email\" name=\"email\" placeholder=\"Email\" required=\"\" />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <Label for=\"review\">Password</Label>\r\n                                        <Input type=\"password\" className=\"form-control\" name=\"password\" id=\"password\"\r\n                                            placeholder=\"Enter your password\" required=\"\" />\r\n                                    </div><input type=\"submit\" className=\"btn btn-solid\" name=\"Login\" />\r\n                                </Form>\r\n                            </div>\r\n                        </Col>\r\n                        <Col lg=\"6\" className=\"right-login\">\r\n                            <h3>New Customer</h3>\r\n                            <div className=\"theme-card authentication-right\">\r\n                                <h6 className=\"title-font\">Create A Account</h6>\r\n                                <p>Sign up for a free account at our store. Registration is quick and easy. It allows you to be\r\n                            able to order from our shop. To start shopping click register.</p><a href=\"/page/register\"\r\n                                    className=\"btn btn-solid\">Create an Account</a>\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </section>\r\n        </CommonLayout>\r\n          )\r\n      }\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}