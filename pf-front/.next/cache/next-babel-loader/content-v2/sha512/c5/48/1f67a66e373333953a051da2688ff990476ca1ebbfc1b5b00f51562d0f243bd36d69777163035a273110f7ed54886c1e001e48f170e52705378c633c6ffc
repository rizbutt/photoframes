{"ast":null,"code":"import _regeneratorRuntime from \"D:/pf-ecom/pf-front/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/pf-ecom/pf-front/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:/pf-ecom/pf-front/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/pf-ecom/pf-front/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"D:/pf-ecom/pf-front/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:/pf-ecom/pf-front/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:/pf-ecom/pf-front/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:/pf-ecom/pf-front/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\pf-ecom\\\\pf-front\\\\pages\\\\page\\\\account\\\\login1.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport CommonLayout from '../../../components/shop/common-layout';\nimport { Container, Row, Form, Label, Input, Col } from 'reactstrap';\nimport { useRouter } from 'next/router';\n\nvar Login = /*#__PURE__*/function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      loading: false,\n      user: []\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    _this.userLogin = _this.userLogin.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"userLogin\",\n    value: function () {\n      var _userLogin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n        var router, loginapi, response, userdetail;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                router = useRouter();\n                loginapi = 'http://localhost:8000/api/login';\n                _context.next = 4;\n                return fetch(loginapi, {\n                  method: 'POST',\n                  body: data\n                });\n\n              case 4:\n                response = _context.sent;\n                _context.next = 7;\n                return response.json();\n\n              case 7:\n                userdetail = _context.sent;\n                this.setState({\n                  user: userdetail,\n                  loading: true\n                });\n\n                if (this.state.user['user_admin']) {\n                  _context.next = 11;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", __jsx(Redirect, {\n                  to: \"/page/dashboard\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 26,\n                    columnNumber: 18\n                  }\n                }));\n\n              case 11:\n                console.log(this.state.user['user_admin']);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function userLogin(_x) {\n        return _userLogin.apply(this, arguments);\n      }\n\n      return userLogin;\n    }()\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      var loginfrm = document.getElementById('userlogin');\n      var data = new FormData(loginfrm);\n      this.userLogin(data);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(CommonLayout, {\n        parent: \"home\",\n        title: \"login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }\n      }, __jsx(\"section\", {\n        className: \"login-page section-b-space\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }\n      }, __jsx(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }\n      }, __jsx(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }\n      }, __jsx(Col, {\n        lg: \"6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 25\n        }\n      }, __jsx(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 29\n        }\n      }, \"Login\"), __jsx(\"div\", {\n        className: \"theme-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 29\n        }\n      }, __jsx(Form, {\n        className: \"theme-form\",\n        id: \"userlogin\",\n        name: \"userlogin\",\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 33\n        }\n      }, __jsx(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 37\n        }\n      }, __jsx(Label, {\n        \"for\": \"email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 41\n        }\n      }, \"Email\"), __jsx(Input, {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"email\",\n        name: \"email\",\n        placeholder: \"Email\",\n        required: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 41\n        }\n      })), __jsx(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 37\n        }\n      }, __jsx(Label, {\n        \"for\": \"review\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 41\n        }\n      }, \"Password\"), __jsx(Input, {\n        type: \"password\",\n        className: \"form-control\",\n        name: \"password\",\n        id: \"password\",\n        placeholder: \"Enter your password\",\n        required: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 41\n        }\n      })), __jsx(\"input\", {\n        type: \"submit\",\n        className: \"btn btn-solid\",\n        name: \"Login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 43\n        }\n      })))), __jsx(Col, {\n        lg: \"6\",\n        className: \"right-login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }\n      }, __jsx(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 29\n        }\n      }, \"New Customer\"), __jsx(\"div\", {\n        className: \"theme-card authentication-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 29\n        }\n      }, __jsx(\"h6\", {\n        className: \"title-font\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 33\n        }\n      }, \"Create A Account\"), __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 33\n        }\n      }, \"Sign up for a free account at our store. Registration is quick and easy. It allows you to be able to order from our shop. To start shopping click register.\"), __jsx(\"a\", {\n        href: \"/page/register\",\n        className: \"btn btn-solid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 95\n        }\n      }, \"Create an Account\")))))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport default Login;","map":{"version":3,"sources":["D:/pf-ecom/pf-front/pages/page/account/login1.js"],"names":["React","CommonLayout","Container","Row","Form","Label","Input","Col","useRouter","Login","props","state","loading","user","handleSubmit","bind","userLogin","data","router","loginapi","fetch","method","body","response","json","userdetail","setState","console","log","e","preventDefault","loginfrm","document","getElementById","FormData","Component"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,wCAAzB;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+BC,KAA/B,EAAsCC,KAAtC,EAA6CC,GAA7C,QAAuD,YAAvD;AACA,SAASC,SAAT,QAA0B,aAA1B;;IAEMC,K;;;;;AAEF,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8BAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AAACC,MAAAA,OAAO,EAAE,KAAV;AAAiBC,MAAAA,IAAI,EAAE;AAAvB,KAAb;AAEA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB;AACA,UAAKC,SAAL,GAAiB,MAAKA,SAAL,CAAeD,IAAf,+BAAjB;AALe;AAMhB;;;;;iGAEgBE,I;;;;;;AACTC,gBAAAA,M,GAASV,SAAS,E;AAClBW,gBAAAA,Q,GAAW,iC;;uBACMC,KAAK,CAACD,QAAD,EAAW;AACnCE,kBAAAA,MAAM,EAAC,MAD4B;AAEnCC,kBAAAA,IAAI,EAAEL;AAF6B,iBAAX,C;;;AAAtBM,gBAAAA,Q;;uBAImBA,QAAQ,CAACC,IAAT,E;;;AAAnBC,gBAAAA,U;AACN,qBAAKC,QAAL,CAAc;AAACb,kBAAAA,IAAI,EAAEY,UAAP;AAAmBb,kBAAAA,OAAO,EAAE;AAA5B,iBAAd;;oBACI,KAAKD,KAAL,CAAWE,IAAX,CAAgB,YAAhB,C;;;;;iDACK,MAAC,QAAD;AAAU,kBAAA,EAAE,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kB;;;AAETc,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAL,CAAWE,IAAX,CAAgB,YAAhB,CAAZ;;;;;;;;;;;;;;;;;;iCAEWgB,C,EAAG;AACdA,MAAAA,CAAC,CAACC,cAAF;AAEA,UAAIC,QAAQ,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAf;AACA,UAAMhB,IAAI,GAAG,IAAIiB,QAAJ,CAAaH,QAAb,CAAb;AACA,WAAKf,SAAL,CAAeC,IAAf;AAEH;;;6BAGS;AACJ,aACE,MAAC,YAAD;AAAc,QAAA,MAAM,EAAC,MAArB;AAA4B,QAAA,KAAK,EAAC,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAS,QAAA,SAAS,EAAC,4BAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,GAAD;AAAK,QAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,IAAD;AAAM,QAAA,SAAS,EAAC,YAAhB;AAA6B,QAAA,EAAE,EAAC,WAAhC;AAA4C,QAAA,IAAI,EAAC,WAAjD;AAA6D,QAAA,QAAQ,EAAE,KAAKH,YAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,KAAD;AAAO,eAAI,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI,MAAC,KAAD;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,cAA7B;AAA4C,QAAA,EAAE,EAAC,OAA/C;AAAuD,QAAA,IAAI,EAAC,OAA5D;AAAoE,QAAA,WAAW,EAAC,OAAhF;AAAwF,QAAA,QAAQ,EAAC,EAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ,EAKI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,KAAD;AAAO,eAAI,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI,MAAC,KAAD;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,SAAS,EAAC,cAAjC;AAAgD,QAAA,IAAI,EAAC,UAArD;AAAgE,QAAA,EAAE,EAAC,UAAnE;AACI,QAAA,WAAW,EAAC,qBADhB;AACsC,QAAA,QAAQ,EAAC,EAD/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CALJ,EASU;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,SAAS,EAAC,eAA/B;AAA+C,QAAA,IAAI,EAAC,OAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATV,CADJ,CAFJ,CADJ,EAiBI,MAAC,GAAD;AAAK,QAAA,EAAE,EAAC,GAAR;AAAY,QAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AAAK,QAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uKAFJ,EAGkE;AAAG,QAAA,IAAI,EAAC,gBAAR;AAC1D,QAAA,SAAS,EAAC,eADgD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAHlE,CAFJ,CAjBJ,CADJ,CADJ,CADA,CADF;AAmCH;;;;EAtEad,KAAK,CAACmC,S;;AAyE1B,eAAe1B,KAAf","sourcesContent":["import React from 'react';\r\nimport CommonLayout from '../../../components/shop/common-layout';\r\nimport { Container, Row, Form, Label, Input ,Col} from 'reactstrap';\r\nimport { useRouter } from 'next/router';\r\n\r\nclass Login extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {loading: false, user: []  };\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.userLogin = this.userLogin.bind(this);\r\n      }\r\n      \r\n      async userLogin (data) {\r\n        const router = useRouter();\r\n        const loginapi = 'http://localhost:8000/api/login';\r\n        const response = await fetch(loginapi, {\r\n            method:'POST',\r\n            body: data,\r\n        });\r\n        const userdetail = await response.json();\r\n        this.setState({user: userdetail, loading: true});\r\n        if(!this.state.user['user_admin']){\r\n          return <Redirect to=\"/page/dashboard\" />\r\n        }\r\n        console.log(this.state.user['user_admin']);\r\n      }\r\n      handleSubmit(e) {\r\n        e.preventDefault();\r\n       \r\n        let loginfrm = document.getElementById('userlogin');\r\n        const data = new FormData(loginfrm);\r\n        this.userLogin(data);\r\n\r\n    }\r\n\r\n\r\n      render(){\r\n          return(\r\n            <CommonLayout parent=\"home\" title=\"login\">\r\n            <section className=\"login-page section-b-space\">\r\n                <Container>\r\n                    <Row>\r\n                        <Col lg=\"6\">\r\n                            <h3>Login</h3>\r\n                            <div className=\"theme-card\">\r\n                                <Form className=\"theme-form\" id='userlogin' name='userlogin' onSubmit={this.handleSubmit}>\r\n                                    <div className=\"form-group\">\r\n                                        <Label for=\"email\">Email</Label>\r\n                                        <Input type=\"text\" className=\"form-control\" id=\"email\" name=\"email\" placeholder=\"Email\" required=\"\" />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <Label for=\"review\">Password</Label>\r\n                                        <Input type=\"password\" className=\"form-control\" name=\"password\" id=\"password\"\r\n                                            placeholder=\"Enter your password\" required=\"\" />\r\n                                    </div><input type=\"submit\" className=\"btn btn-solid\" name=\"Login\" />\r\n                                </Form>\r\n                            </div>\r\n                        </Col>\r\n                        <Col lg=\"6\" className=\"right-login\">\r\n                            <h3>New Customer</h3>\r\n                            <div className=\"theme-card authentication-right\">\r\n                                <h6 className=\"title-font\">Create A Account</h6>\r\n                                <p>Sign up for a free account at our store. Registration is quick and easy. It allows you to be\r\n                            able to order from our shop. To start shopping click register.</p><a href=\"/page/register\"\r\n                                    className=\"btn btn-solid\">Create an Account</a>\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </section>\r\n        </CommonLayout>\r\n          )\r\n      }\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}