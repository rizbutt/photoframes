{"ast":null,"code":"import _regeneratorRuntime from \"D:/pf-ecom/pf-front/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/pf-ecom/pf-front/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\pf-ecom\\\\pf-front\\\\pages\\\\page\\\\account\\\\login.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useRef } from 'react';\nimport CommonLayout from '../../../components/shop/common-layout';\nimport { Container, Row, Form, Label, Input, Col } from 'reactstrap';\nimport { useRouter } from 'next/router';\n\nvar Login = function Login() {\n  _s();\n\n  var router = useRouter();\n\n  var loginapi = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n      var loginapi, response, userdetail, token, isAdmin;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              state = {\n                loading: true,\n                user: []\n              };\n              loginapi = 'http://localhost:8000/api/login';\n              _context.next = 4;\n              return fetch(loginapi, {\n                method: 'POST',\n                body: data\n              });\n\n            case 4:\n              response = _context.sent;\n              _context.next = 7;\n              return response.json();\n\n            case 7:\n              userdetail = _context.sent;\n\n              _this.setState({\n                user: userdetail,\n                loading: false\n              });\n\n              token = userdetail['token'];\n              localStorage.setItem('token', token);\n              isAdmin = userdetail['user_admin'];\n\n              if (isAdmin == 1) {\n                router.push({\n                  pathname: '/page/admin/dashboard'\n                });\n              } else {\n                router.push({\n                  pathname: '/page/Picsforframe'\n                });\n              }\n\n              console.log(userdetail['user_admin']);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function loginapi(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var submit = function submit(e) {\n    e.preventDefault();\n    var loginfrm = document.getElementById('userlogin');\n    var data = new FormData(loginfrm);\n    loginapi(data);\n  };\n\n  return __jsx(CommonLayout, {\n    parent: \"home\",\n    title: \"login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, __jsx(\"section\", {\n    className: \"login-page section-b-space\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, __jsx(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }\n  }, __jsx(Col, {\n    lg: \"6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 25\n    }\n  }, __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  }, \"Login\"), __jsx(\"div\", {\n    className: \"theme-card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 29\n    }\n  }, __jsx(Form, {\n    className: \"theme-form\",\n    id: \"userlogin\",\n    name: \"userlogin\",\n    onSubmit: submit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 37\n    }\n  }, __jsx(Label, {\n    \"for\": \"email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 41\n    }\n  }, \"Email\"), __jsx(Input, {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"email\",\n    name: \"email\",\n    placeholder: \"Email\",\n    required: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 41\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 37\n    }\n  }, __jsx(Label, {\n    \"for\": \"review\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 41\n    }\n  }, \"Password\"), __jsx(Input, {\n    type: \"password\",\n    className: \"form-control\",\n    name: \"password\",\n    id: \"password\",\n    placeholder: \"Enter your password\",\n    required: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 41\n    }\n  })), __jsx(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-solid\",\n    name: \"Login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 43\n    }\n  })))), __jsx(Col, {\n    lg: \"6\",\n    className: \"right-login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }, __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 29\n    }\n  }, \"New Customer\"), __jsx(\"div\", {\n    className: \"theme-card authentication-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 29\n    }\n  }, __jsx(\"h6\", {\n    className: \"title-font\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 33\n    }\n  }, \"Create A Account\"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 33\n    }\n  }, \"Sign up for a free account at our store. Registration is quick and easy. It allows you to be able to order from our shop. To start shopping click register.\"), __jsx(\"a\", {\n    href: \"#\",\n    className: \"btn btn-solid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 95\n    }\n  }, \"Create an Account\")))))));\n};\n\n_s(Login, \"fN7XvhJ+p5oE6+Xlo0NJmXpxjC8=\", false, function () {\n  return [useRouter];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["D:/pf-ecom/pf-front/pages/page/account/login.js"],"names":["React","useState","useRef","CommonLayout","Container","Row","Form","Label","Input","Col","useRouter","Login","router","loginapi","data","state","loading","user","fetch","method","body","response","json","userdetail","setState","token","localStorage","setItem","isAdmin","push","pathname","console","log","submit","e","preventDefault","loginfrm","document","getElementById","FormData"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport CommonLayout from '../../../components/shop/common-layout';\r\nimport { Container, Row, Form, Label, Input ,Col} from 'reactstrap';\r\nimport { useRouter } from 'next/router';\r\n\r\nconst Login = () => {\r\n   \r\n    const router = useRouter();\r\n    const loginapi = async(data) => {\r\n        state = {\r\n            loading: true,\r\n            user: [],\r\n        };\r\n         const loginapi = 'http://localhost:8000/api/login';\r\n         const response = await fetch(loginapi, {\r\n             method:'POST',\r\n             body: data,\r\n         });\r\n        const userdetail = await response.json();\r\n        this.setState({user: userdetail, loading: false})\r\n        const  token  = userdetail['token'];\r\n        localStorage.setItem('token', token);\r\n        const isAdmin = userdetail['user_admin'];\r\n        if(isAdmin == 1){\r\n            \r\n            router.push({\r\n                pathname: '/page/admin/dashboard',\r\n            });\r\n        }else{\r\n            router.push({\r\n                pathname: '/page/Picsforframe',\r\n            }); \r\n        }\r\n    console.log(userdetail['user_admin']);\r\n    }\r\n    const submit = e => {\r\n        e.preventDefault();\r\n       \r\n        let loginfrm = document.getElementById('userlogin');\r\n        const data = new FormData(loginfrm);\r\n        loginapi(data);\r\n\r\n    }\r\n    return (\r\n        <CommonLayout parent=\"home\" title=\"login\">\r\n            <section className=\"login-page section-b-space\">\r\n                <Container>\r\n                    <Row>\r\n                        <Col lg=\"6\">\r\n                            <h3>Login</h3>\r\n                            <div className=\"theme-card\">\r\n                                <Form className=\"theme-form\" id='userlogin' name='userlogin' onSubmit={submit}>\r\n                                    <div className=\"form-group\">\r\n                                        <Label for=\"email\">Email</Label>\r\n                                        <Input type=\"text\" className=\"form-control\" id=\"email\" name=\"email\" placeholder=\"Email\" required=\"\" />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <Label for=\"review\">Password</Label>\r\n                                        <Input type=\"password\" className=\"form-control\" name=\"password\" id=\"password\"\r\n                                            placeholder=\"Enter your password\" required=\"\" />\r\n                                    </div><input type=\"submit\" className=\"btn btn-solid\" name=\"Login\" />\r\n                                </Form>\r\n                            </div>\r\n                        </Col>\r\n                        <Col lg=\"6\" className=\"right-login\">\r\n                            <h3>New Customer</h3>\r\n                            <div className=\"theme-card authentication-right\">\r\n                                <h6 className=\"title-font\">Create A Account</h6>\r\n                                <p>Sign up for a free account at our store. Registration is quick and easy. It allows you to be\r\n                            able to order from our shop. To start shopping click register.</p><a href=\"#\"\r\n                                    className=\"btn btn-solid\">Create an Account</a>\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </section>\r\n        </CommonLayout>\r\n    )\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}